{
  "hash": "3efc1168d63cf6ca47ca11ce305be2c0",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: LM Basic (`R`) \n---\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(palmerpenguins)\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.0     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\ntheme_set(theme_minimal())\n```\n:::\n\n\n\n\n## Explore Data\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(penguins)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               <fct> male, female, female, NA, female, male, female, male…\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nvisdat::vis_dat(penguins)\n```\n\n::: {.cell-output-display}\n![](lm-r_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins_clean <- penguins |> drop_na()\n```\n:::\n\n\n\n\n\n## Visualize Data\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins_clean |>\n  ggplot(aes(x = bill_length_mm, y = body_mass_g)) +\n  geom_point(color = \"maroon\", alpha = 0.6) +\n  geom_smooth(method = \"lm\") +\n  labs(\n    title = \"Linear Regression of Body Mass on Bill Length\",\n    x = \"Bill Length (mm)\",\n    y = \"Body Mass (g)\"\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](lm-r_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n\n\n## Build Model\n\nLet's create a linear model where `body_mass_g` is the dependent variable and `bill_length_mm` is the independent variable.\n\n### Fit Model\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npeng_lm_fit1 <- lm(body_mass_g ~ bill_length_mm, data = penguins_clean)\nsummary(peng_lm_fit1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = body_mass_g ~ bill_length_mm, data = penguins_clean)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-1759.38  -468.82    27.79   464.20  1641.00 \n\nCoefficients:\n               Estimate Std. Error t value Pr(>|t|)    \n(Intercept)     388.845    289.817   1.342    0.181    \nbill_length_mm   86.792      6.538  13.276   <2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 651.4 on 331 degrees of freedom\nMultiple R-squared:  0.3475,\tAdjusted R-squared:  0.3455 \nF-statistic: 176.2 on 1 and 331 DF,  p-value: < 2.2e-16\n```\n\n\n:::\n:::\n\n\n\n\n### Predict\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins_clean$predicted_mass <- predict(peng_lm_fit1, penguins_clean)\nhead(penguins_clean)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 9\n  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n  <fct>   <fct>              <dbl>         <dbl>             <int>       <int>\n1 Adelie  Torgersen           39.1          18.7               181        3750\n2 Adelie  Torgersen           39.5          17.4               186        3800\n3 Adelie  Torgersen           40.3          18                 195        3250\n4 Adelie  Torgersen           36.7          19.3               193        3450\n5 Adelie  Torgersen           39.3          20.6               190        3650\n6 Adelie  Torgersen           38.9          17.8               181        3625\n# ℹ 3 more variables: sex <fct>, year <int>, predicted_mass <dbl>\n```\n\n\n:::\n:::\n\n\n\n\n### Evaluate Performance\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Plot residuals to check for patterns\nplot(penguins_clean$bill_length_mm, peng_lm_fit1$residuals, \n    main = \"Residuals Plot\", \n    xlab = \"Bill Length (mm)\", \n    ylab = \"Residuals\")\nabline(h = 0, col = \"red\")\n```\n\n::: {.cell-output-display}\n![](lm-r_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "lm-r_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}